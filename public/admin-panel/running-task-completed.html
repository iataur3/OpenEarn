<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Tasks - EarnTask Admin</title>
    <link rel="stylesheet" href="./assets/css/admin.css" />
  </head>
  <body>
    <div class="topbar">
      <div class="left">
        <span class="menu-btn" id="menuBtn">&#9776;</span>
        <h3>Running Tasks Control</h3>
      </div>
      <div class="right">
        <input type="text" id="searchInput" placeholder="Search tasks..." />
        <button id="searchBtn">Search</button>
        <button id="nightBtn">üåô</button>
      </div>
    </div>
    <!-- sidebar.html -->
    <div class="sidebar" id="sidebar">
      <a href="admin-dashboard.html" data-role="admin">Dashboard</a>
      <a href="user-control-g-moderator.html" data-role="admin"
        >Users Control</a
      >
      <a
        href="running-task-incoming.html"
        data-role="admin"
        data-section="running-task"
        >Running Tasks</a
      >
      <a href="admin-working-t-incoming.html" data-role="admin"
        >Admin Working</a
      >
      <a href="moderator-d-t-incoming.html" data-role="admin"
        >Moderator Defined</a
      >
      <a href="user-worked-t-incoming.html" data-role="admin">User Worked</a>
      <a href="admin-reports.html" data-role="admin">Reports</a>
      <a href="ads.html" data-role="admin">Ads</a>
      <a href="admin-p-l-i.html" data-role="admin">Login Info</a>
      <a href="admin-settings.html" data-role="admin">Settings</a>
      <a href="admin-index.html" data-role="admin">Logout</a>
    </div>
    <!-- main-content -->
    <div class="main-content">
      <h2>Running Task Overview</h2>
      <div class="status-buttons s">
        <a
          href="running-task-incoming.html"
          class="status-buttons incoming"
          id="running-task-incoming"
          >‚è≥ Incoming: <span id="incoming">15</span></a
        >
        <a
          href="running-task-pending.html"
          class="status-buttons pending"
          id="running-task-pending"
          >‚è≥ Pending: <span id="pending">5</span></a
        >
        <a
          href="running-task-running.html"
          class="status-buttons running"
          id="running-task-running"
        >
          ‚è≥ Running: <span id="running">5</span>
        </a>
        <a
          href="running-task-completed.html"
          class="status-buttons completed"
          id="running-task-completed"
          data-section="running-task"
        >
          ‚úÖ Completed: <span id="completed">12</span>
        </a>
        <a
          href="running-task-rejected.html"
          class="status-buttons rejected"
          id="running-task-rejected"
        >
          ‚ùå Rejected: <span id="rejected">2</span>
        </a>
      </div>
      <h2>Completed Task List</h2>
      <table>
        <thead>
          <tr>
            <th>ID</th>
            <th>Title</th>
            <th>Assigned To</th>
            <th>Status</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>1</td>
            <td>Upload Video</td>
            <td>John Doe</td>
            <td>Completed</td>
            <td>
              <button class="action deleted">Delete</button>
            </td>
          </tr>
          <tr>
            <td>2</td>
            <td>Complete Survey</td>
            <td>Jane Smith</td>
            <td>Completed</td>
            <td>
              <button class="action deleted">Delete</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <script src="assets/js/admin-root.js"></script>
    <script src="./assets/js/running-task.js"></script>

    <!-- <script>
      const sidebar = document.getElementById("sidebar");
      const menuBtn = document.getElementById("menuBtn");
      const nightBtn = document.getElementById("nightBtn");
      const searchBtn = document.getElementById("searchBtn");
      const searchInput = document.getElementById("searchInput");
      // üß† Role-based sidebar filtering
      document.addEventListener("DOMContentLoaded", () => {
        const role = sessionStorage.getItem("role");
        if (!role) {
          window.location.href = "index.html"; // ‡¶Ø‡¶¶‡¶ø role ‡¶®‡¶æ ‡¶•‡¶æ‡¶ï‡ßá, redirect ‡¶ï‡¶∞‡ßá ‡¶¶‡¶æ‡¶ì
          return;
        }
        // Sidebar and status-buttons

 Activity
        const currentPage = window.location.pathname.split("/").pop();

        ["#sidebar a", "status-buttons

"].forEach((selector) => {
          document.querySelectorAll(selector).forEach((el) => {
            const href = el.getAttribute("href");
            const fileName = href.split("/").pop();

            if (fileName === currentPage) {
              el.classList.add("active");
            } else {
              el.classList.remove("active");
            }
          });
        });
      });

      // üì± Sidebar toggle for mobile/desktop
      menuBtn.addEventListener("click", () => {
        window.innerWidth <= 768
          ? sidebar.classList.toggle("show")
          : sidebar.classList.toggle("hide");
      });
      document.addEventListener("click", (e) => {
        if (
          window.innerWidth <= 768 &&
          !sidebar.contains(e.target) &&
          !menuBtn.contains(e.target)
        ) {
          sidebar.classList.remove("show");
        }
      });
      nightBtn.addEventListener("click", () => {
        document.body.classList.toggle("night");
        nightBtn.textContent = document.body.classList.contains("night")
          ? "‚ú®Ô∏è"
          : "üåô";
      });

      // üîç Search filter for tasks
      searchBtn.addEventListener("click", () => {
        const q = searchInput.value.trim().toLowerCase();
        const rows = document.querySelectorAll("tbody tr");

        rows.forEach((row) => {
          const text = row.innerText.toLowerCase();
          row.style.display = text.includes(q) ? "" : "none";
        });
      });

      // // task filter
      // function renderUsers(statusType) {
      //   const rows = document.querySelectorAll("tbody tr");

      //   rows.forEach((row) => {
      //     const status = row
      //       .querySelector("td:nth-child(4)")
      //       .textContent.trim()
      //       .toLowerCase();
      //     row.style.display = status === statusType.toLowerCase() ? "" : "none";
      //   });
      // }
      // // Initial load
      // renderUsers("Completed");

      // Active button highlighting
      // const currentPage = window.location.pathname.split("/").pop(); // e.g. "running-task-pending.html"

      // document.querySelectorAll("status-buttons

").forEach((btn) => {
      //   const href = btn.getAttribute("href");
      //   const fileName = href.split("/").pop();

      //   if (fileName === currentPage) {
      //     btn.classList.add("active");
      //   } else {
      //     btn.classList.remove("active");
      //   }
      // });
    </script> -->
  </body>
</html>
