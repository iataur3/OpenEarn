<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Dashboard - EarnTask Admin</title>
    <link rel="stylesheet" href="./assets/css/moderator.css" />
  </head>
  <body>
    <div class="topbar">
      <div class="left">
        <span class="menu-btn" id="menuBtn">&#9776;</span>
        <h3>Dashboard</h3>
      </div>
      <div class="right">
        <input type="text" id="searchInput" placeholder="Search..." />
        <button id="searchBtn">Search</button>
        <button id="nightBtn">🌙</button>
      </div>
    </div>
    <!-- sidebar.html -->
    <div class="sidebar" id="sidebar">
      <a href="mDashboard.html" data-role="admin,moderator">Dashboard</a>
      <a href="moderatorDT.html" data-role="admin,moderator">G M D Tasks</a>
      <a href="user-worked-t-incoming.html" data-role="admin,moderator"
        >User W Tasks</a
      >
      <a href="mReports.html" data-role="admin,moderator">Reports</a>
      <a href="index.html" data-role="admin,moderator">Logout</a>
    </div>
    <div class="main-content" id="mainContent">
      <div class="content-area" id="contentArea">
        <h2>Moderator Dashboard Overview</h2>
        <div class="dashboard-cards">
          <div class="card">
            Total Tasks: <span id="userWorkingTotalTasks">19</span>
          </div>
          <div class="card">
            ✅ Completed: <span id="userWorkingCompletedTasks">12</span>
          </div>
          <div class="card">
            ⏳ Pending: <span id="userWorkingPendingTasks">5</span>
          </div>
          <div class="card">
            ❌ Rejected: <span id="userWorkingRejectedTasks">2</span>
          </div>
          <div class="card">
            💰 Earnings: <span id="userWorkingEarningsAmount">$48.00</span>
          </div>
        </div>
      </div>
    </div>
    <script src="./assets/js/moderator-root.js"></script>
    <!-- <script>
      const sidebar = document.getElementById("sidebar");
      const menuBtn = document.getElementById("menuBtn");
      const nightBtn = document.getElementById("nightBtn");
      const searchBtn = document.getElementById("searchBtn");
      const searchInput = document.getElementById("searchInput");
      const contentArea = document.getElementById("contentArea");
      // 🧠 Role-based sidebar filtering
      document.addEventListener("DOMContentLoaded", () => {
        const role = sessionStorage.getItem("role");
        if (!role) {
          window.location.href = "index.html"; // যদি role না থাকে, redirect করে দাও
          return;
        }
        document.querySelectorAll("#sidebar a").forEach((link) => {
          const roleAttr = link.getAttribute("data-role");
          if (roleAttr) {
            const allowedRoles = roleAttr.split(",").map((r) => r.trim());
            if (!allowedRoles.includes(role)) {
              link.style.display = "none";
            }
          }
        });
      });

      menuBtn.addEventListener("click", () => {
        window.innerWidth <= 768
          ? sidebar.classList.toggle("show")
          : sidebar.classList.toggle("hide");
      });
      document.addEventListener("click", (e) => {
        if (
          window.innerWidth <= 768 &&
          !sidebar.contains(e.target) &&
          !menuBtn.contains(e.target)
        ) {
          sidebar.classList.remove("show");
        }
      });
      nightBtn.addEventListener("click", () => {
        document.body.classList.toggle("night");
        nightBtn.textContent = document.body.classList.contains("night")
          ? "✨️"
          : "🌙";
      });
      searchBtn.addEventListener("click", () => {
        const q = searchInput.value.trim();
        contentArea.innerHTML = q
          ? `<p>Search results for: <strong>${q}</strong></p>`
          : "<p>Please type something to search</p>";
      });
    </script> -->
  </body>
</html>
